<?xml version='1.0' encoding='UTF-8'?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en-US" xml:id="configuringlnet">
  <title xml:id="configuringlnet.title">Configuring Lustre Networking (LNET) </title>
  <para>This chapter describes how to configure Lustre Networking (LNET). It includes the following sections:</para>
  <itemizedlist>
    <listitem>
      <para><xref linkend="dbdoclet.50438216_33148"/>
          </para>
    </listitem>
    <listitem>
      <para><xref linkend="dbdoclet.50438216_46279"/>
          </para>
    </listitem>
    <listitem>
      <para><xref linkend="dbdoclet.50438216_31414"/>
          </para>
    </listitem>
    <listitem>
      <para><xref linkend="dbdoclet.50438216_71227"/>
          </para>
    </listitem>
    <listitem>
      <para><xref linkend="dbdoclet.50438216_10523"/>
          </para>
    </listitem>
    <listitem>
      <para><xref linkend="dbdoclet.50438216_15200"/>
          </para>
    </listitem>
  </itemizedlist>
  <note>
    <para>LNET will, by default, use the first TCP/IP interface it discovers on a system. If the
      default is sufficient, further configuration is not required.</para>
  </note>
  <section xml:id="dbdoclet.50438216_33148">
      <title><indexterm><primary>LNet</primary></indexterm>
          Overview of <literal>lnet</literal> Module Parameters</title>
    <para>The <literal>lnet</literal> kernel module parameters specify how LNET is to be configured
      to work with a Lustre file system, including details on which NICs are to be configured and
      how routing among LNET routers will take place.</para>
    <para>Parameters for <literal>lnet</literal> can be specified in the
        <literal>/etc/modprobe.d/lustre.conf</literal> file. The file need not be named
        <literal>lustre.conf</literal>. However, this convention will be used in this manual. For
      distributions previous to Red Hat Enterprise Edition 5 and SUSE Linux Enterprise Server 10,
        <literal>lnet</literal> parameters may have been stored in
        <literal>/etc/modprobe.conf</literal>, but this method of specifying <literal>lnet</literal>
      parameters is now deprecated. Storing LNET parameters in a separate
        <literal>/etc/modprobe.d/lustre.conf</literal> file simplifies administration and
      distribution of the Lustre networking configuration. This file contains one or more entries
      with the syntax:</para>
    <screen>options lnet <replaceable>parameter</replaceable>=<replaceable>value</replaceable></screen>
    <para>To specify the network interfaces that are to be used for the Lustre file system, set
      either the <literal>networks</literal> parameter or the <literal>ip2nets</literal> parameter
      (only one of these parameters can be used at a time):</para>
    <itemizedlist>
      <listitem>
        <para><literal>networks</literal> - Specifies the LNET network interfaces to be used.</para>
      </listitem>
      <listitem>
        <para><literal>ip2nets</literal> - Lists globally-available networks, each with a range of
          IP addresses. LNET then identifies locally-available networks through address
          list-matching lookup.</para>
      </listitem>
    </itemizedlist>
    <para>See <xref linkend="dbdoclet.50438216_46279"/> and <xref linkend="dbdoclet.50438216_31414"/> for more details.</para>
    <para>To set up routing between networks, use the <literal>routes</literal> parameter to
      identify the LNET subnets and the NID(s) of the routers that forward to them. See <xref
        linkend="dbdoclet.50438216_71227"/> for more details.</para>
    </section>
  <section xml:id="dbdoclet.50438216_46279">
    <title><indexterm><primary>LNet</primary><secondary>module parameters</secondary></indexterm><literal>networks</literal> Parameter</title>
    <para>The <literal>networks</literal> parameter maps a network interface to an LNET subnet. You
      can do this by including an entry or a comma separated list in the
        <literal>lustre.conf</literal> file.</para>
    <screen>options lnet networks=<replaceable>LNET(interface),LNET(interface),...</replaceable></screen>
    <para>For example:</para>
    <para>To map the LNET <literal>tcp0</literal> to the Ethernet interface
      <literal>eth1</literal>:</para>
    <screen>options lnet networks=tcp0(eth1)</screen>
    <para>Depending on the network design, it may be necessary to specify explicit interfaces. To explicitly specify that interface <literal>eth2</literal> be used for network <literal>tcp0</literal> and <literal>eth3</literal> be used for <literal>tcp1</literal> , use this entry:</para>
    <screen>options lnet networks=tcp0(eth2),tcp1(eth3)</screen>
    <para>When more than one interface is available during the network setup, Lustre chooses the best route based on the hopcount. Once the network connection is established, Lustre expects the network to stay connected. In a Lustre network, connections do not fail over to another interface, even if multiple interfaces are available on the same node.</para>
    <para condition='l25'>Since version 2.5 of the Lustre software, the route priority is also used to decide which interface to use. The priority has precendence over hopcount so the route with the lower priority number will be selected regardless of what the hopcounts are.</para>
    <note>
      <para>LNET lines in <literal>lustre.conf</literal> are only used by the local node to determine what to call its interfaces. They are not used for routing decisions.</para>
    </note>
    <section remap="h3">
      <title><indexterm><primary>configuring</primary><secondary>multi-homed</secondary></indexterm>Multi-homed Server Example</title>
      <para>If a server with multiple IP addresses (multi-homed server) is connected to a Lustre network, certain configuration settings are required. An example illustrating these setting consists of a network with the following nodes:</para>
      <itemizedlist>
        <listitem>
          <para> Server <literal>svr1</literal> with three Ethernet NIC s (<literal>eth0</literal>,
              <literal>eth1</literal>, and <literal>eth2</literal>) and an InfiniBand NIC.</para>
        </listitem>
        <listitem>
          <para> Server <literal>svr2</literal> with three Ethernet NICs (<literal>eth0</literal>,
              <literal>eth1</literal>, and <literal>eth2</literal>) and an InfiniBand NIC. The
            interface <literal>eth2</literal> will not be used for Lustre networking.</para>
        </listitem>
        <listitem>
          <para> TCP clients, each with a single Ethernet interface.</para>
        </listitem>
        <listitem>
          <para> InfiniBand clients, each with a single InfiniBand interface and an Ethernet
            interface for administration.</para>
        </listitem>
      </itemizedlist>
      <para>To set the <literal>networks</literal> option for this example:</para>
      <itemizedlist>
        <listitem>
          <para> On each server, <literal>svr1</literal> and <literal>svr2</literal>, include the following line in the <literal>lustre.conf</literal> file:</para>
        </listitem>
      </itemizedlist>
      <screen>options lnet networks=tcp0(eth0),tcp1(eth1),o2ib(ib0)</screen>
      <itemizedlist>
        <listitem>
          <para> For TCP-only clients, the first available non-loopback IP interface is used for <literal>tcp0</literal>. Thus, TCP clients with only one interface do not need to have options defined in the <literal>lustre.conf</literal> file.</para>
        </listitem>
        <listitem>
          <para> On the InfiniBand clients, include the following line in the <literal>lustre.conf</literal> file:</para>
        </listitem>
      </itemizedlist>
      <screen>options lnet networks=o2ib(ib0)</screen>
      <para>If a node has only one InfiniBand interface, then the interface name need not be
        specified. <literal>- ib0</literal> will be assumed.</para>
      </section>
  </section>
  <section xml:id="dbdoclet.50438216_31414">
    <title><indexterm><primary>LNet</primary><secondary>ip2nets</secondary></indexterm><literal>ip2nets</literal> Parameter</title>
    <para>The <literal>ip2nets</literal> option is typically used when a single, universal <literal>lustre.conf</literal> file is run on all servers and clients. Each node identifies the locally available networks based on the listed IP address patterns that match the node&apos;s local IP addresses.</para>
    <para>Note that the IP address patterns listed in the <literal>ip2nets</literal> option are
        <emphasis>only</emphasis> used to identify the networks that an individual node should
      instantiate. They are <emphasis>not</emphasis> used by LNET for any other communications
      purpose.</para>
    <para>For the example below, the nodes in the network have these IP addresses:</para>
    <itemizedlist>
      <listitem>
        <para> Server svr1: <literal>eth0</literal> IP address <literal>192.168.0.2</literal>, IP
          over InfiniBand (<literal>o2ib</literal>) address <literal>132.6.1.2</literal>.</para>
      </listitem>
      <listitem>
        <para> Server svr2: <literal>eth0</literal> IP address <literal>192.168.0.4</literal>, IP
          over InfiniBand (<literal>o2ib</literal>) address <literal>132.6.1.4</literal>.</para>
      </listitem>
      <listitem>
        <para> TCP clients have IP addresses <literal>192.168.0.5-255.</literal></para>
      </listitem>
      <listitem>
        <para> InfiniBand clients have IP over InfiniBand (<literal>o2ib</literal>) addresses
            <literal>132.6.[2-3].2, .4, .6, .8</literal>.</para>
      </listitem>
    </itemizedlist>
    <para>The following entry is placed in the <literal>lustre.conf</literal> file on each server and client:</para>
    <screen>options lnet &apos;ip2nets=&quot;tcp0(eth0) 192.168.0.[2,4]; \
tcp0 192.168.0.*; o2ib0 132.6.[1-3].[2-8/2]&quot;&apos;</screen>
    <para>Each entry in <literal>ip2nets</literal> is referred to as a &apos;rule&apos;.</para>
    <para>The order of LNET entries is important when configuring servers. If a server node can be reached using more than one network, the first network specified in <literal>lustre.conf</literal> will be used.</para>
    <para>Because <literal>svr1</literal> and <literal>svr2</literal> match the first rule, LNET
      uses <literal>eth0</literal> for <literal>tcp0</literal> on those machines. (Although
        <literal>svr1</literal> and <literal>svr2</literal> also match the second rule, the first
      matching rule for a particular network is used).</para>
    <para>The <literal>[2-8/2]</literal> format indicates a range of 2-8 stepped by 2; that is
      2,4,6,8. Thus, the clients at <literal>132.6.3.5</literal> will not find a matching
        <literal>o2ib</literal> network.</para>
  </section>
  <section xml:id="dbdoclet.50438216_71227">
    <title><indexterm>
        <primary>LNet</primary>
        <secondary>routes</secondary>
      </indexterm>Using the <literal>routes</literal> Parameter</title>
    <para>Before discussing the <literal>routes</literal> parameter, it is important to look at what
      LNET routing achieves and why it is needed.</para>
    <para>The role of an LNET router is essentially that of a gateway that forwards Lustre traffic
      from one LNET network to one (or more) other LNET networks. This implies that at the LNET
      layer, an LNET router is the next hop between two nodes on different LNET networks. Note that
      this is orthogonal to whether or not the nodes in question are in the same IP subnet or are
      separated by one or more IP routers. Therefore, LNET routing is not required when clients and
      servers are all in the same LNET network.</para>
    <para>However, an LNET router is more than just a regular gateway; it is an LNET intelligent
      gateway. It is important to remember that Lustre routing is static routing, where the LNET
      network topology is statically configured and parsed when the system initializes. Routers can
      die and also come back online during operation. These topics will be discussed in greater
      detail in the following sections.</para>
    <section remap="h3"><title><indexterm><primary>LNet></primary><secondary>Routes Parameter</secondary></indexterm><literal>routes</literal> Parameter</title>
	<para>The <literal>routes</literal> parameter is used to tell a node which route to use when
        forwarding traffic by identifying LNET routers in a Lustre configuration. The routes
        parameter needs to be set in the <literal>lustre.conf</literal> file to specify the next hop
        router.</para>
	<para>The <literal>routes</literal> parameter specifies a semi-colon separated list of router definitions.</para>
	<screen>routes=<replaceable>dest_lnet [hop] [priority] router_NID@src_lnet; \
					   dest_lnet [hop] [priority] router_NID@src_lnet</replaceable></screen>
    	<para>An alternative syntax consists of a colon separated list of router definitions:</para>
	<screen>routes=<replaceable>dest_lnet: [hop] [priority] router_NID@src_lnet \
				               [hop] [priority] router_NID@src_lnet</replaceable></screen>
      <para>When there are two or more LNET routers, it is possible to give weighted priorities to
        each router using the <literal>priority</literal> parameter. Some reasons for doing this are
        that one of the routers is more capable than the other, or one is a primary router and the
        other is a back up, or one is for one section of clients and the other is for another
        section, or each router is moving traffic to a different physical location.The
          <literal>priority</literal> parameter is optional and need not be specified if no priority
        exists.</para>
      <para>The <literal>hop</literal> parameter specifies the number of hops to the destination.
        When a node forwards traffic, the route with the least hops is used. If multiple routes to
        the same destination network have the same number of hops, the traffic is distributed
        between these routes in a round-robin fashion. To reach/transmit to the LNET
          <literal>dest_lnet</literal>, the next hop for a given node is the LNET router with the
        NID <literal>router_NID</literal>  in the LNET <literal>src_lnet</literal>. </para>
	<para>Given a sufficiently well-architected system, it is possible to map the flow to and from
        every single client or server. This type of routing has also been called
          <emphasis>fine-grained</emphasis> routing.</para>
    </section>
    <section remap="h3"><title><indexterm><primary>LNet></primary><secondary>Router configurations</secondary></indexterm>Router Configurations</title>
	<para>To get a router setup started and running, execute the following commands:</para>
	<screen>modprobe lnet
lctl network configure</screen>
	<para> OR</para>
	<screen>lctl network up</screen>
      <para>For a router to forward traffic, the configuration parameter
          <literal>forwarding</literal> must be set to <literal>enabled</literal> (it is set to
          <literal>disabled</literal> by default). If  forwarding is not enabled, traffic destined
        for the node is dropped.</para>
	<para>
        <note>
          <para>Any changes to the <literal>lustre.conf</literal> modprobe file require unloading
            the <literal>lnet</literal> kernel module and repeating the above given commands. Thus
            any major changes, especially on the servers, should be made with due
            consideration.</para>
        </note>
      </para>	
    	<para>Here are a few examples starting from a basic setup and increasing in complexity to
        better illustrate LNET routing:</para>
	
	<itemizedlist>
	<listitem>
	<para><emphasis role="italic">A simple setup involving one TCP client, one router and
              servers(MGS,MDS,OSS) in an InfiniBand fabric.</emphasis></para>
	<para>The LNET router has two NIDs, 192.168.1.2@tcp0 and 10.13.24.90@o2ib0.</para>
	<para>The <literal>lustre.conf</literal> file for the client includes:</para>
	<screen>options lnet networks=&quot;tcp0(eth0)&quot; routes=&quot;o2ib0 192.168.1.2@tcp0&quot;</screen>
	<para>On the router nodes:</para>
	<screen>options lnet networks=&quot;o2ib0(ib0),tcp0(eth0)&quot; forwarding=enabled</screen>
	<para>On the server nodes:</para>
	<screen>options lnet networks=&quot;o2ib0(ib0)&quot; routes=&quot;tcp0 10.13.24.90@o2ib0&quot;</screen>	
	</listitem>
	
	<listitem>
	<para><emphasis role="italic">Adding more routers to above described case.</emphasis></para>
	<para>When two or more routers are specified in the file, they are considered equivalent and are
            not configured as primary or secondary. The load is directed to the routers based on the
              <literal>route</literal> parameter settings for <literal>priority</literal> and
              <literal>hop</literal> (see <xref xmlns:xlink="http://www.w3.org/1999/xlink"
              linkend="dbdoclet.50438216_71227"/>). The syntax on the client nodes is:</para>
	<screen>options lnet networks=&quot;tcp0(eth0)&quot; routes=&quot;o2ib0 192.168.1.2@tcp0;
	o2ib0 192.168.1.3@tcp0&quot;</screen>
	<para>The servers can be configured likewise. The number of LNET routers is not limited. Enough routers should be used to handle the required file serving bandwidth plus a 25 percent margin for headroom. The nodes are capable of recovering if one or more routers fail, provided, there is still at least one router left running. The nodes are also capable of recognizing when an offline routers comes online.</para>
	</listitem>
	
	<listitem>
	<para><emphasis role="italic">Assigning priorities to routers.</emphasis></para>
	<screen>options lnet networks=&quot;tcp0(eth0)&quot; routes=&quot;o2ib0 1 192.168.1.2@tcp0;
	o2ib0 2 192.168.1.3@tcp0&quot;</screen>
	<para>The above example specifies two routers with priorities 1 and 2. In this case, the node will always first send traffic via 192.168.1.2 and if and only if that router is down, will it send traffic via 192.168.1.3.</para>	
    	<para>It is important to note that the weights are pre-configured and do not or cannot be
            changed dynamically. This method gives more control to an administrator on deciding
            which is a better route than just the route with least number of hops.</para>
	</listitem>
	
	<listitem>
	<para><emphasis role="italic">Assigning equal priorities to routers.</emphasis></para>
	<screen>options lnet networks=&quot;tcp0(eth0)&quot; routes=&quot;o2ib0 1 192.168.1.2@tcp0;
	o2ib0 1 192.168.1.3@tcp0&quot;</screen>
	<para>The above example has two routers of the same priority. This is treated the same as
            specifying no priority at all.</para>
	</listitem>
	
	<listitem>
	<para><emphasis role="italic">Creating classes of routers.</emphasis></para>
	<screen>options lnet networks=&quot;tcp0(eth0)&quot; routes=&quot;o2ib0 1 192.168.1.2@tcp0;
 	o2ib0 1 192.168.1.3@tcp0;o2ib0 2 192.168.1.4@tcp0;o2ib0 2 192.168.1.5@tcp0&quot;</screen>
	<para>This example creates two classes of routers load balanced between themselves. In this case, the node will only use the routers with priority 2 only if both the routers with priority 1 are not running.</para>
    	</listitem>
	</itemizedlist>
    </section>
  </section>
  <section xml:id="dbdoclet.50438216_10523">
    <title><indexterm><primary>LNET</primary><secondary>testing</secondary></indexterm>Testing the LNET Configuration</title>
    <para>After configuring Lustre Networking, it is highly recommended that you test your LNET configuration using the LNET Self-Test provided with the Lustre software. For more information about using LNET Self-Test, see <xref linkend="lnetselftest"/>.</para>
  </section>
  <section xml:id="dbdoclet.50438216_35668">
    <title><indexterm><primary>LNET</primary><secondary>route checker</secondary></indexterm>Configuring the Router Checker</title>
    <para>In a Lustre configuration in which different types of networks, such as a TCP/IP network
      and an InfiniBand network, are connected by routers, a router checker can be run on the
      clients and servers in the routed configuration to monitor the status of the routers. In a
      multi-hop routing configuration, router checkers can be configured on routers to monitor the
      health of their next-hop routers.</para>
    <para>A router checker is configured by setting lnet parameters in <literal>lustre.conf</literal> by including an entry in this form:</para>
    <screen>options lnet <replaceable>router_checker_parameter</replaceable>=<replaceable>value</replaceable></screen>
    <para>The router checker parameters are:</para>
    <itemizedlist>
    	<listitem>
        <para><literal>auto_down</literal>  - Enables/disables (1/0) the automatic marking of router state as up or down. The default value is 1. To disable router marking, enter:</para>
    	<screen>options lnet auto_down=0</screen>
      	</listitem>
	<listitem>
	<para><literal>avoid_asym_router_failure</literal> - Specifies that if even one interface of a
            router is down for some reason, the entire router is marked as down. This is important
            because if nodes are not aware that the interface on one side is down, they will still
            keep pushing data to the other side presuming that the router is healthy, when it really
            is not. To turn it on, enter:</para>
	<screen>options lnet avoid_asym_router_failure=1</screen>
	</listitem>
	<listitem>
	<para><literal>live_router_check_interval</literal> - Specifies a time interval in seconds after
            which the router checker will ping the live routers. The default value is 60. To set the
            value to 50, enter:</para> 
	<screen>options lnet live_router_check_interval=50</screen>
	</listitem>
	<listitem>
        <para><literal>dead_router_check_interval</literal> - Specifies a time interval in seconds
            after which the router checker will check the dead routers. The default value is 60. To
            set the value to 50, enter:</para>
    	<screen>options lnet dead_router_check_interval=50</screen>
	<note>
	<para>A kernel process called <literal>router_checker</literal> is started when either of the two
              options above are set (thus, the <literal>router_checker</literal> is enabled by
              default). It otians a list of next-hops from the routes entered and checks whether
              next-hops are alive. In a multi-hop router configuration, these parameters can be set
              on the routers as well, or on other node types. If no routes are entered, no checking
              is done.</para>
	</note>
      	</listitem>	
      	<listitem>
        <para><literal>router_ping_timeout</literal> - Specifies a timeout for the router checker
            when it checks live or dead routers. The router checker sends a ping message to each
            dead or live router once every <literal>dead_router_check_interval</literal> or
              <literal>live_router_check_interval</literal> respectively. The default value is 50.
            To set the value to 60, enter:</para>
    	<screen>options lnet router_ping_timeout=60</screen>
    	<note>
        <para>The <literal>router_ping_timeout</literal> is consistent with the default LND timeouts. You may have to increase it on very large clusters if the LND timeout is also increased. For larger clusters, we suggest increasing the check interval.</para>
    	</note>
      	</listitem>
      	<listitem>
        <para><literal>check_routers_before_use</literal> - Specifies that routers are to be checked
            before use. Set to off by default. If this parameter is set to on, the
              <literal>dead_router_check_interval</literal> parameter must be given a positive
            integer value.</para>
    	<screen>options lnet check_routers_before_use=on</screen>
      	</listitem>
	</itemizedlist>
    <para>The <literal>router_checker</literal> obtains the following information from each router:</para>
    <itemizedlist>
        <listitem>
        <para> Time the router was disabled</para>
        </listitem>
        <listitem>
        <para> Elapsed disable time</para>
        </listitem>
    </itemizedlist>
    <para>If the <literal>router_checker</literal> does not get a reply message from the router within <literal>router_ping_timeout</literal> seconds, it considers the router to be down.</para>
    <para>When a router in a priority class goes down, the traffic stops intermittently until LNET
        safely marks the router which is down as 'down' and then proceeds on again, depending either
        on other routers of the same or a different priority class. The time it takes for LNET to
        recover is roughly based on the values for the <literal>live/dead_router_checker</literal>
        parameters provided.</para>
    <para>If a router that is marked 'up' responds to a ping, the timeout is reset. If 100 packets
        have been sent successfully through a router, the sent-packets counter for that router will
        have a value of 100. The ping response also provides the status of the NIDs of the node
        being pinged. In this way, the pinging node knows whether to keep using this node as a
        next-hop or not. If one of the NIDs of the router is down and the
          <literal>avoid_asym_router_failure = 1</literal> is set, then that router is no longer
        used.</para>
  </section>
  <section xml:id="dbdoclet.50438216_15200">
    <title><indexterm>
        <primary>LNet</primary>
        <secondary>best practice</secondary>
      </indexterm>Best Practices for LNET Options</title>
    <para>For the <literal>networks</literal>, <literal>ip2nets</literal>, and <literal>routes</literal> options, follow these best practices to avoid configuration errors.</para>
    <section remap="h5">
      <title><indexterm>
          <primary>LNET</primary>
          <secondary>escaping commas with quotes</secondary>
        </indexterm>Escaping commas with quotes</title> 
      <para>It is recommended that you use network addresses rather than host names to make it easier to read debug logs and debug configurations with multiple interfaces.</para>
      <para>If the server has multiple interfaces on the same subnet, the Linux kernel will send all traffic using the first configured interface. This is a limitation of Linux, not Lustre. In this case, network interface bonding should be used. For more information about network interface bonding, see <xref linkend="settingupbonding"/>.</para>
      <para>Depending on the Linux distribution, commas may need to be escaped using single or double quotes. In the extreme case, the <literal>options</literal> entry would look like this:</para>
      <para><screen>options lnet&apos;networks=&quot;tcp0,elan0&quot;&apos; &apos;routes=&quot;tcp [2,10]@elan0&quot;&apos;</screen></para>
      <para>Added quotes may confuse some distributions. Messages such as the following may indicate an issue related to added quotes:</para>
      <para><screen>lnet: Unknown parameter &apos;networks&apos;</screen></para>
      <para>A <literal>&apos;Refusing connection - no matching NID&apos;</literal> message generally
        points to an error in the LNET module configuration.</para>
    </section>
    <section remap="h5">
      <title><indexterm><primary>LNet</primary><secondary>comments</secondary></indexterm>Including comments</title>
      <para><emphasis>Place the semicolon terminating a comment immediately after the
          comment.</emphasis> LNET silently ignores everything between the <literal>#</literal>
        character at the beginning of the comment and the next semicolon.</para>
      <para>In this <emphasis>incorrect</emphasis> example, LNET silently ignores <literal>pt11
          192.168.0.[92,96]</literal>, resulting in these nodes not being properly initialized. No
        error message is generated.</para>
      <screen>options lnet ip2nets=&quot;pt10 192.168.0.[89,93]; # comment with semicolon \
      BEFORE comment pt11 192.168.0.[92,96];</screen>
      <para>This <emphasis role="italic">correct</emphasis> example shows the required syntax:
</para>
      <para><screen>options lnet ip2nets=&quot;pt10 192.168.0.[89,93] \
# comment with semicolon AFTER comment; \
pt11 192.168.0.[92,96] # comment</screen></para>
      <para><emphasis role="italic">Do not add an excessive number of comments.</emphasis> The Linux kernel limits the length of
character strings used in module options (usually to 1KB, but this may differ
between vendor kernels). If you exceed this limit, errors result and the specified
configuration may not be processed correctly.</para>
    </section>
  </section>
</chapter>
